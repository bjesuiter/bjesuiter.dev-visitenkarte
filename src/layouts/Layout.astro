---
import { AstroFont } from "astro-font";
import "../css/global.css";

interface Props {
  title: string;
  description?: string;
  image?: string;
  noindex?: boolean;
  canonicalPath?: string;
}

const {
  title,
  description = "Pers√∂nliche Landingpage von Benjamin Jesuiter mit Links zu Development-, Business- und Social-Profilen.",
  image = "/2024_profile_pic.jpg",
  noindex = false,
  canonicalPath,
} = Astro.props;

const site = Astro.site ?? new URL("https://bjesuiter.de");
const canonicalURL = new URL(canonicalPath ?? Astro.url.pathname, site);
const socialImageURL = new URL(image, site);
---

<!doctype html>
<html lang="de" class="bg-slate-800">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="description" content={description} />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="canonical" href={canonicalURL.href} />
    <meta name="generator" content={Astro.generator} />
    <meta name="robots" content={noindex ? "noindex, nofollow" : "index, follow"} />

    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="bjesuiter.de" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:url" content={canonicalURL.href} />
    <meta property="og:image" content={socialImageURL.href} />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={socialImageURL.href} />
    <title>{title}</title>
    <!-- <script type="text/javascript">
			const pos = {x: 0, y: 0};

			const saveCursorPosition = function (x, y) {
				pos.x = (x / window.innerWidth).toFixed(2);
				pos.y = (y / window.innerHeight).toFixed(2);
				document.documentElement.style.setProperty('--mouseX', pos.x);
				document.documentElement.style.setProperty('--mouseY', pos.y);
			};
			document.addEventListener('mousemove', e => {
				saveCursorPosition(e.clientX, e.clientY);
			});
		</script> -->
  </head>
  <!-- <body
    class="bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-600 to-slate-800"
  > -->
  <body class="min-w-[300px]">
    <AstroFont
      config={[
        {
          src: [],
          name: "Rubik",
          // Google Fonts URL
          googleFontsURL:
            "https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap",
          preload: true,
          display: "swap",
          selector: "body",
          fallback: "sans-serif",
        },
        {
          src: [],
          name: "Playwrite",
          // Google Fonts URL
          googleFontsURL:
            "https://fonts.googleapis.com/css2?family=Playwrite+CU:wght@200&display=swap",
          preload: true,
          display: "swap",
          fallback: "sans-serif",
        },
      ]}
    />
    <!-- <div class="tracker"></div> -->
    <slot />
  </body>
</html>
<style is:global>
  :root {
    --mouseX: 0.5;
    --mouseY: 0.5;
  }
  html {
    font-family: Rubik, system-ui, sans-serif;
  }
  code {
    font-family:
      Menlo,
      Monaco,
      Lucida Console,
      Liberation Mono,
      DejaVu Sans Mono,
      Bitstream Vera Sans Mono,
      Courier New,
      monospace;
  }

  .tracker {
    width: 10px;
    height: 10px;
    left: 0;
    top: 0;
    background: red;
    border-radius: 100%;
    /* transform with clamping */
    /* transform: translate(calc(-50% + 200px * var(--mouseX)), calc(-50% + 200px * var(--mouseY))); */
    /* transform: translate(calc(var(--mouseX) * 1px), calc(var(--mouseY) * 1px)); */
    /* transition: transform 0.1s; */
  }
</style>
